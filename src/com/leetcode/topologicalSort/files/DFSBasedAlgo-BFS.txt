2️⃣ DFS-based Topological Sort
4
Idea

Run DFS

After exploring all children of u, push u to stack

Reverse stack to get topo order

This works because node finishes after all dependents

When to use

When doing DAG DP (longest path in DAG)

When recursion is easier than BFS

When adjacency list is large and stack ordering is natural

Pseudo-code (Java)
public List<Integer> topoSortDFS(int n, List<List<Integer>> adj) {
    boolean[] vis = new boolean[n];
    Stack<Integer> st = new Stack<>();

    for (int i = 0; i < n; i++) {
        if (!vis[i]) dfs(i, adj, vis, st);
    }

    List<Integer> ans = new ArrayList<>();
    while(!st.isEmpty()) ans.add(st.pop());
    return ans;
}

private void dfs(int u, List<List<Integer>> adj, boolean[] vis, Stack<Integer> st) {
    vis[u] = true;
    for(int v : adj.get(u)) {
        if(!vis[v]) dfs(v, adj, vis, st);
    }
    st.push(u);   // postorder
}